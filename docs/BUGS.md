# Bug ä¿®å¤ä¸ä¼˜åŒ–æ—¥å¿—

## 2026-01-31

### Bug 1: TUI è¾“å…¥æ— å“åº”
**ä¸¥é‡ç¨‹åº¦**: ğŸ”´ é«˜  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: 
- ä½¿ç”¨è‡ªå®šä¹‰ `InputScreen` æ›¿ä»£æœ‰é—®é¢˜çš„ `Dialog`
- ä½¿ç”¨ `Button.Pressed` æ›¿ä»£ `Button.Clicked`
- é‡æ„ `action_load_repo` ä½¿ç”¨ `push_screen`

**æµ‹è¯•**: `tests/unit/test_main.py` - 12/12 é€šè¿‡

---

### Bug 2: è¯»æ¡£å‰å¿…é¡»å…ˆåŠ è½½ä»“åº“
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¡ ä¸­  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: 
- æ·»åŠ  `SaveSystem.load_game(path)` ç±»æ–¹æ³•ï¼Œä¸€è¡Œä»£ç å®Œæ•´åŠ è½½æ¸¸æˆ
- ä¿®å¤ `model_dump()` åºåˆ—åŒ– enum çš„é—®é¢˜ï¼ˆä½¿ç”¨ `value` è·å– enum å€¼ï¼‰
- ä¿®å¤ `GameState.load_repository()` æ›´æ–° `config.repo_path`
- æ·»åŠ  `_config_to_dict()` è¾…åŠ©å‡½æ•°æ­£ç¡®å¤„ç† Pydantic enum

**æµ‹è¯•**: `tests/unit/test_save_system.py` - 6/6 é€šè¿‡

---

### Bug 3: å­˜æ¡£/è¯»æ¡£å¤±è´¥
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¡ ä¸­  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: 
- ä½¿ç”¨ `model_dump()` æ›¿ä»£ `asdict()` (Pydantic BaseModel)
- æ·»åŠ  `default=str` åˆ° json.dump()
- ä¿®å¤ Pydantic enum åºåˆ—åŒ–é—®é¢˜

---

### Bug 4: start_combat() é‡å¤è°ƒç”¨
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¡ ä¸­  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: æ·»åŠ  `if self.current_combat is not None: return False` æ£€æŸ¥

---

### Bug 5: SaveSystem æ¥å—å­—ç¬¦ä¸²è·¯å¾„
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¢ ä½  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: æ„é€ å‡½æ•°æ¥å— `Path | str` ç±»å‹

---

### Bug 6: æš´å‡»ä¼¤å®³å››èˆäº”å…¥é”™è¯¯
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¢ ä½  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: ä½¿ç”¨ `round()` æ›¿ä»£ `int()` è¿›è¡Œä¼¤å®³å››èˆäº”å…¥

---

### Bug 7: å•å…ƒæµ‹è¯•é¢„æœŸå€¼é”™è¯¯
**ä¸¥é‡ç¨‹åº¦**: ğŸŸ¢ ä½  
**çŠ¶æ€**: å·²ä¿®å¤ âœ…  
**æ—¥æœŸ**: 2026-01-31  
**ä¿®å¤**: 
- æ›´æ–° `test_character.py` é¢„æœŸå€¼åŒ¹é…å®é™… defense è®¡ç®—
- æ›´æ–° `test_combat.py` é¢„æœŸå€¼å’Œå‚æ•°
- æ›´æ–° `test_inventory.py` é¢„æœŸå€¼
- ä¿®å¤ `random.seed()` ä½ç½®é”™è¯¯

---

## æµ‹è¯•ç»“æœ

- **å•å…ƒæµ‹è¯•**: 70/70 é€šè¿‡
- **å®Œæ•´æµ‹è¯•**: 11/11 é€šè¿‡
