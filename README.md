# Git Dungeon

ä¸€ä¸ªå°† Git æäº¤å†å²è½¬åŒ–ä¸º roguelike å¡ç‰Œæ¸¸æˆçš„åˆ›æ–°å·¥å…·ã€‚

> ğŸ® åœ¨æäº¤å†å²ä¸­æˆ˜æ–—ï¼Œè®©ç†è§£é¡¹ç›®æ¼”è¿›å˜å¾—æœ‰è¶£ï¼

[![CI](https://img.shields.io/github/actions/workflow/status/lingengyuan/git-dungeon/ci.yml?branch=main)](https://github.com/lingengyuan/git-dungeon/actions)
[![Tests](https://img.shields.io/badge/tests-63%2F63-blue)](https://github.com/lingengyuan/git-dungeon/actions)
[![Python](https://img.shields.io/badge/python-3.11-blue)](https://www.python.org)

## ğŸ¯ M3 æ›´æ–°ï¼šMeta è¿›åº¦ + è§’è‰²ç³»ç»Ÿ + å†…å®¹åŒ…

M3 ç‰ˆæœ¬åœ¨ M2 åŸºç¡€ä¸Šå¢åŠ äº†å…ƒè¿›åº¦ç³»ç»Ÿã€å¤šè§’è‰²ç³»ç»Ÿã€å¯è§£é”å†…å®¹åŒ…ã€‚

### M3 åŠŸèƒ½ç‰¹æ€§

| æ¨¡å— | åŠŸèƒ½ | æè¿° |
|------|------|------|
| **M3.1 Meta è¿›åº¦** | ç©å®¶æ¡£æ¡ˆ | ç‚¹æ•°ç´¯è®¡ã€è§£é”ç³»ç»Ÿã€å•å±€æ€»ç»“ã€å­˜æ¡£ |
| **M3.2 è§’è‰²ç³»ç»Ÿ** | 3 è§’è‰² | Developer/Reviewer/DevOpsï¼Œå„æœ‰ç‰¹è‰² |
| **M3.3 å†…å®¹åŒ…** | å¯è§£é”åŒ… | Debug/Test/Refactor æµæ´¾ä¸“å±æ‰©å±•åŒ… |

### M3 å†…å®¹ç»Ÿè®¡

| å†…å®¹ç±»å‹ | M2 | M3 | å˜åŒ– |
|---------|----|----|------|
| è§’è‰² | 0 | 3 | +3 (Developer/Reviewer/DevOps) |
| å†…å®¹åŒ… | 0 | 3 | +3 (debug/test/refactor pack) |
| åŒ…å†…å¡ç‰Œ | 0 | 14 | +14 |
| åŒ…å†…é—ç‰© | 0 | 6 | +6 |
| åŒ…å†…äº‹ä»¶ | 0 | 3 | +3 |

### M3 æµ‹è¯•ç»“æœ

```
63 passed, 5 warnings

æµ‹è¯•å¥—ä»¶:
â”œâ”€â”€ i18n tests              6/6  âœ…
â”œâ”€â”€ CLI tests               3/3  âœ…
â”œâ”€â”€ golden tests            4/4  âœ…
â”œâ”€â”€ M2 route tests          6/6  âœ…
â”œâ”€â”€ M2 event effect tests  13/6  âœ…
â”œâ”€â”€ M2 elite/boss tests     6/6  âœ…
â”œâ”€â”€ M3 meta tests          10/10 âœ…
â”œâ”€â”€ M3 character tests      8/8  âœ…
â””â”€â”€ M3 pack tests           7/7  âœ…
```

---

## ğŸ¯ M2 æ›´æ–°ï¼šè·¯å¾„ç³»ç»Ÿ + äº‹ä»¶æ‰©å±•

M2 ç‰ˆæœ¬åœ¨ M1 åŸºç¡€ä¸Šå¢åŠ äº†ç« èŠ‚è·¯å¾„ç³»ç»Ÿã€äº‹ä»¶æ•ˆæœå¼•æ“ã€ç²¾è‹±ä¸ BOSS æ•Œäººã€‚

### M2 åŠŸèƒ½ç‰¹æ€§

| æ¨¡å— | åŠŸèƒ½ | æè¿° |
|------|------|------|
| **M2.1 è·¯å¾„ç³»ç»Ÿ** | ç« èŠ‚åœ°å›¾ | 10-14 èŠ‚ç‚¹ï¼Œæˆ˜æ–—/äº‹ä»¶/å•†åº—/ä¼‘æ¯/ç²¾è‹±/BOSS |
| **M2.2 äº‹ä»¶ç³»ç»Ÿ** | æ•ˆæœå¼•æ“ | 17 äº‹ä»¶ï¼Œ11 ç§æ•ˆæœ (gold/heal/card/relic/bias) |
| **M2.3 ç²¾è‹±/BOSS** | éš¾åº¦åˆ†å±‚ | 6 Elite + 3 BOSSï¼Œ2-3 å€å¥–åŠ±å€ç‡ |

### M2 å†…å®¹ç»Ÿè®¡

| å†…å®¹ç±»å‹ | M1 | M2 | å˜åŒ– |
|---------|----|----|------|
| å¡ç‰Œ | 54 | 54 | - |
| æ•Œäºº | 27 | 33 | +6 Elite +3 BOSS |
| é—ç‰© | 16 | 16 | - |
| çŠ¶æ€ | 9 | 9 | - |
| æµæ´¾ | 3 | 3 | - |
| äº‹ä»¶ | 6 | 17 | +11 äº‹ä»¶ |

### M3 è§’è‰²ç³»ç»Ÿ

| è§’è‰² | HP | èƒ½é‡ | èµ·å§‹å¡ | èµ·å§‹é—ç‰© | ç‰¹æ®Šèƒ½åŠ› |
|------|-----|------|--------|---------|---------|
| **Developer** | 100 | 3 | 6 (Strike/Defend) | git_init | æ—  |
| **Reviewer** | 110 | 3 | 7 (Test Guard/Defend) | test_framework | å›åˆå¼€å§‹å‡€åŒ– |
| **DevOps** | 90 | 3 | 5 (Debug/CI Pipeline) | ci_badge | å›åˆç»“æŸèµ„æºç”Ÿæˆ |

### M3 å†…å®¹åŒ…ç³»ç»Ÿ

| å†…å®¹åŒ… | æµæ´¾ | å¡ç‰Œ | é—ç‰© | äº‹ä»¶ | ç‚¹æ•°æˆæœ¬ |
|-------|------|------|------|------|---------|
| **debug_pack** | Debug çˆ†å‘æµ | 5 | 2 | 1 | 150 |
| **test_pack** | Test æŠ¤ç›¾æµ | 5 | 2 | 1 | 150 |
| **refactor_pack** | Refactor ä»£ä»·æµ | 4 | 2 | 1 | 150 |

### M2 æµ‹è¯•ç»“æœ

```
38 passed, 5 warnings

æµ‹è¯•å¥—ä»¶:
â”œâ”€â”€ i18n tests              6/6  âœ…
â”œâ”€â”€ CLI tests               3/3  âœ…
â”œâ”€â”€ golden tests            4/4  âœ…
â”œâ”€â”€ M2 route tests          6/6  âœ…
â”œâ”€â”€ M2 event effect tests  13/6  âœ…
â””â”€â”€ M2 elite/boss tests     6/6  âœ…
```

---

## ğŸ¯ M1 æ›´æ–°ï¼šå®Œæ•´å¡ç‰Œæˆ˜æ–—ç³»ç»Ÿ

M1 ç‰ˆæœ¬å®Œæˆäº†æ ¸å¿ƒæ¸¸æˆæœºåˆ¶ï¼ŒåŒ…å«å®Œæ•´çš„ Deck/Energy/Status ç³»ç»Ÿã€Combat çŠ¶æ€æœºã€å¥–åŠ±ä¸æµæ´¾ç³»ç»Ÿã€‚

### M1 åŠŸèƒ½ç‰¹æ€§

| æ¨¡å— | åŠŸèƒ½ | æè¿° |
|------|------|------|
| **Deck ç³»ç»Ÿ** | æŠ½ç‰Œ/å‡ºç‰Œ/æ´—ç‰Œ | æ‰‹ç‰Œã€æŠ½ç‰Œå †ã€å¼ƒç‰Œå †ã€æ¶ˆè€—å † |
| **Energy ç³»ç»Ÿ** | 3 èƒ½é‡/å›åˆ | èƒ½é‡æ¶ˆè€—ä¸å›åˆé‡ç½® |
| **Status ç³»ç»Ÿ** | 9 ç§çŠ¶æ€ | Block/Vulnerable/Burn/TechDebt ç­‰ |
| **Combat çŠ¶æ€æœº** | å›åˆåˆ¶æˆ˜æ–— | å›åˆå¼€å§‹â†’æŠ½ç‰Œâ†’å‡ºç‰Œâ†’æ•Œäººè¡ŒåŠ¨â†’å›åˆç»“æŸ |
| **å¥–åŠ±ç³»ç»Ÿ** | é‡‘å¸/å¡ç‰Œ/é—ç‰© | æˆ˜æ–—å¥–åŠ±ã€ç²¾è‹±åŠ æˆã€BOSS å¥–åŠ± |
| **æµæ´¾ç³»ç»Ÿ** | 3 å¤§æµæ´¾ | Debug çˆ†å‘æµ/æµ‹è¯•æŠ¤ç›¾æµ/é‡æ„ä»£ä»·æµ |

### M1 å†…å®¹ç»Ÿè®¡

| å†…å®¹ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|---------|------|------|
| å¡ç‰Œ | 54 å¼  | Debug 15, Test 17, Refactor 20, Basic 2 |
| æ•Œäºº | 33 ä¸ª | 24 Normal + 6 Elite + 3 BOSS |
| é—ç‰© | 16 ä¸ª | Starter/BOSS/Rare/Uncommon/Common |
| çŠ¶æ€ | 9 ä¸ª | Block/Vulnerable/Burn/TechDebt ç­‰ |
| æµæ´¾ | 3 ä¸ª | Debug çˆ†å‘æµ/æµ‹è¯•æŠ¤ç›¾æµ/é‡æ„ä»£ä»·æµ |
| äº‹ä»¶ | 17 ä¸ª | åŸºç¡€/å•†åº—/Debug/Test/Refactor/æŒ‘æˆ˜ |

---

## å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/lingengyuan/git-dungeon.git
cd git-dungeon

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œæ¸¸æˆ (å½“å‰ä»“åº“)
python -m git_dungeon .

# è¿è¡Œæ¸¸æˆ (ä»»æ„ GitHub ä»“åº“)
python -m git_dungeon username/repo

# ä½¿ç”¨ä¸­æ–‡ç•Œé¢
python -m git_dungeon . --lang zh_CN

# è‡ªåŠ¨æˆ˜æ–—æ¨¡å¼ (é€‚åˆæ¼”ç¤º)
python -m git_dungeon . --auto
```

## å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | æè¿° |
|------|------|
| `repository` | ä»“åº“è·¯å¾„æˆ– GitHub ç”¨æˆ·å/ä»“åº“å |
| `--seed, -s` | éšæœºç§å­ (ç”¨äºå¤ç°) |
| `--lang, -l` | è¯­è¨€ (en/zh_CN)ï¼Œé»˜è®¤è‹±æ–‡ |
| `--auto, -a` | è‡ªåŠ¨æˆ˜æ–—æ¨¡å¼ |
| `--verbose, -v` | è¯¦ç»†è¾“å‡º |
| `--json-log` | JSON æ ¼å¼æ—¥å¿— |

## æ¸¸æˆç•Œé¢

```
âš”ï¸  Chapter 1: Chaos Begins
ğŸ‘¤ DEVELOPER (Lv.1)          ğŸ‘¾ Bug: fix issue
ğŸŸ¢ HP:100/100 |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      ğŸŸ¢ HP:30/30 |â–ˆâ–ˆâ–ˆ

Your Hand:
  [1] âš”ï¸  Strike      [2] ğŸ›¡ï¸  Defend
  [3] âš”ï¸  Debug Strike [4] ğŸ›¡ï¸  Test Guard

Choose your action (1-4) or enter card number:
>
```

### æµæ´¾ç³»ç»Ÿ

| æµæ´¾ | é£æ ¼ | æ ¸å¿ƒæœºåˆ¶ |
|------|------|---------|
| ğŸ”¥ **Debug çˆ†å‘æµ** | é«˜ä¼¤å®³è¾“å‡º | å¿«é€Ÿå‡»æ€é¿å… TechDebt ç´¯ç§¯ |
| ğŸ›¡ï¸ **Test æŠ¤ç›¾æµ** | é˜²å¾¡æŒä¹… | é«˜æŠ¤ç”²/å‡€åŒ–ï¼Œç¨³æ‰ç¨³æ‰“ |
| âš–ï¸ **Refactor ä»£ä»·æµ** | é«˜é£é™©é«˜å›æŠ¥ | ç”¨è¡€é‡/çŠ¶æ€æ¢å¼ºå¤§æ•ˆæœ |

### æ•Œäººå±‚çº§ (M2)

| å±‚çº§ | æ•°é‡ | ç‰¹ç‚¹ |
|------|------|------|
| **Normal** | 24 | æ™®é€šæ•Œäººï¼Œæ ‡å‡†å¥–åŠ± |
| **Elite** | 6 | 2x é‡‘å¸/ç»éªŒï¼Œ70% æ‰è½é—ç‰© |
| **BOSS** | 3 | 3x é‡‘å¸/ç»éªŒï¼Œå¿…æ‰ç¨€æœ‰é—ç‰©ï¼Œ3é€‰1 |

### äº‹ä»¶ç±»å‹ (M2)

| ç±»å‹ | æ•°é‡ | ç¤ºä¾‹ |
|------|------|------|
| åŸºç¡€äº‹ä»¶ | 4 | ä¼‘æ¯ã€å•†åº—ã€å®è—ã€ç¥ç§˜é—¨æˆ· |
| Debug äº‹ä»¶ | 2 | è°ƒè¯•å¬å”¤ã€ç´§æ€¥å‘å¸ƒ |
| Test äº‹ä»¶ | 2 | æµ‹è¯•å®éªŒå®¤ã€CI æµæ°´çº¿ |
| Refactor äº‹ä»¶ | 2 | é—ç•™ä»£ç ã€å€ºåŠ¡å›æ”¶ |
| æµæ´¾äº‹ä»¶ | 1 | æµæ´¾ç¥­å› |
| BOSS äº‹ä»¶ | 1 | BOSS é­é‡æˆ˜ |

## æ•Œäººç±»å‹

| Commit ç±»å‹ | æ•Œäºº | éš¾åº¦ | æè¿° |
|------------|------|------|------|
| `feat` | âœ¨ åŠŸèƒ½ | â­â­ | æ–°åŠŸèƒ½ |
| `fix` | ğŸ› Bug | â­â­â­ | ä¿®å¤é—®é¢˜ |
| `docs` | ğŸ“– æ–‡æ¡£ | â­ | æ–‡æ¡£æ›´æ–° |
| `merge` | ğŸ”€ åˆå¹¶ | â­â­â­â­â­ | BOSS çº§ |
| `refactor` | ğŸ”¨ é‡æ„ | â­â­â­ | ä»£ç é‡æ„ |
| `chore` | ğŸ”§ ç»´æŠ¤ | â­ | æ‚é¡¹ä»»åŠ¡ |
| `perf` | âš¡ æ€§èƒ½ | â­â­â­ | æ€§èƒ½ä¼˜åŒ– |
| `style` | ğŸ’… æ ¼å¼ | â­ | ä»£ç æ ¼å¼ |
| `test` | âœ… æµ‹è¯• | â­â­ | æµ‹è¯•ç›¸å…³ |
| `ci` | ğŸ”„ æµæ°´çº¿ | â­â­ | CI/CD |

## è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/ -v

# è¿è¡Œ Golden Tests (ç¡®å®šæ€§æµ‹è¯•)
PYTHONPATH=src python3 -m pytest tests/golden_test.py -v

# è¿è¡Œ i18n æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_i18n.py -v

# è¿è¡Œ CLI æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_cli.py -v

# è¿è¡Œ M2 è·¯å¾„ç³»ç»Ÿæµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m2_route.py -v

# è¿è¡Œ M2 äº‹ä»¶æ•ˆæœæµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m2_event_effects.py -v

# è¿è¡Œ M2 ç²¾è‹±/BOSS æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m2_elite_boss.py -v

# è¿è¡Œ M3 å…ƒè¿›åº¦ç³»ç»Ÿæµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m3_meta.py -v

# è¿è¡Œ M3 è§’è‰²ç³»ç»Ÿæµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m3_characters.py -v

# è¿è¡Œ M3 å†…å®¹åŒ…æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/test_m3_packs.py -v

# è¿è¡Œ M3 å®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•
PYTHONPATH=src python3 tests/test_m3_full_automation.py

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
PYTHONPATH=src python3 -m pytest tests/ -v
```

## é¡¹ç›®ç»“æ„

```
git-dungeon/
â”œâ”€â”€ src/git_dungeon/
â”‚   â”œâ”€â”€ content/              # å†…å®¹ç³»ç»Ÿ (M1+M2+M3)
â”‚   â”‚   â”œâ”€â”€ schema.py         # æ•°æ®æ¨¡å‹å®šä¹‰ (M3: ContentPack)
â”‚   â”‚   â”œâ”€â”€ loader.py         # YAML åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ packs.py          # å†…å®¹åŒ…åŠ è½½å™¨ (M3)
â”‚   â”‚   â”œâ”€â”€ defaults/         # é»˜è®¤å†…å®¹
â”‚   â”‚   â”‚   â”œâ”€â”€ cards.yml     # 54 å¼ å¡ç‰Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ enemies.yml   # 33 ä¸ªæ•Œäºº (M2: +9 elite/boss)
â”‚   â”‚   â”‚   â”œâ”€â”€ relics.yml    # 16 ä¸ªé—ç‰©
â”‚   â”‚   â”‚   â”œâ”€â”€ statuses.yml  # 9 ä¸ªçŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ archetypes.yml # 3 ä¸ªæµæ´¾
â”‚   â”‚   â”‚   â”œâ”€â”€ events.yml    # 17 ä¸ªäº‹ä»¶ (M2: +11)
â”‚   â”‚   â”‚   â””â”€â”€ characters.yml # 3 è§’è‰² (M3)
â”‚   â”‚   â””â”€â”€ packs/            # å¯è§£é”å†…å®¹åŒ… (M3)
â”‚   â”‚       â”œâ”€â”€ debug_pack/   # Debug çˆ†å‘åŒ… (5 å¡, 2 é—ç‰©)
â”‚   â”‚       â”œâ”€â”€ test_pack/    # Test æŠ¤ç›¾åŒ… (5 å¡, 2 é—ç‰©)
â”‚   â”‚       â””â”€â”€ refactor_pack/ # Refactor ä»£ä»·åŒ… (4 å¡, 2 é—ç‰©)
â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â”œâ”€â”€ model.py          # æ•°æ®æ¨¡å‹ (M1+M2+M3: MetaProfile/RunSummary)
â”‚   â”‚   â”œâ”€â”€ engine.py         # æ¸¸æˆå¼•æ“ (M1+M2+M3)
â”‚   â”‚   â”œâ”€â”€ events.py         # äº‹ä»¶ç³»ç»Ÿ (M1+M2: æ•ˆæœå¼•æ“)
â”‚   â”‚   â”œâ”€â”€ rng.py            # éšæœºæ•°ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ route.py          # è·¯å¾„ç³»ç»Ÿ (M2)
â”‚   â”‚   â”œâ”€â”€ meta.py           # å…ƒè¿›åº¦ç³»ç»Ÿ (M3)
â”‚   â”‚   â””â”€â”€ rules/
â”‚   â”‚       â”œâ”€â”€ rewards.py    # å¥–åŠ±ç³»ç»Ÿ (M1+M2: elite/boss)
â”‚   â”‚       â””â”€â”€ archetype.py  # æµæ´¾ç³»ç»Ÿ (M1)
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ git_parser.py     # Git æ•°æ®æå–
â”‚   â”œâ”€â”€ i18n/                 # å›½é™…åŒ–
â”‚   â”œâ”€â”€ main.py               # CLI å…¥å£
â”‚   â””â”€â”€ main_cli.py           # CLI æ¸¸æˆé€»è¾‘
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ golden_test.py        # ç¡®å®šæ€§æµ‹è¯•
â”‚   â”œâ”€â”€ test_i18n.py          # i18n æµ‹è¯•
â”‚   â”œâ”€â”€ test_cli.py           # CLI æµ‹è¯•
â”‚   â”œâ”€â”€ test_m2_route.py      # M2 è·¯å¾„ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ test_m2_event_effects.py # M2 äº‹ä»¶æ•ˆæœæµ‹è¯•
â”‚   â”œâ”€â”€ test_m2_elite_boss.py # M2 ç²¾è‹±/BOSS æµ‹è¯•
â”‚   â”œâ”€â”€ test_m3_meta.py       # M3 å…ƒè¿›åº¦ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ test_m3_characters.py # M3 è§’è‰²ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ test_m3_packs.py      # M3 å†…å®¹åŒ…æµ‹è¯•
â”‚   â””â”€â”€ test_m3_full_automation.py # M3 å®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â””â”€â”€ pyproject.toml            # é¡¹ç›®é…ç½®
```

## æŠ€æœ¯æ ˆ

- **Python 3.11** - å¼€å‘è¯­è¨€
- **GitPython** - Git ä»“åº“æ“ä½œ
- **Rich** - ç»ˆç«¯ç¾åŒ–è¾“å‡º
- **Typer** - CLI æ¡†æ¶
- **PyInstaller** - æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶
- **PyYAML** - å†…å®¹é…ç½®

## æŠ€æœ¯ç»†èŠ‚

### ç¡®å®šæ€§ä¿è¯
- æ‰€æœ‰éšæœºæ•°ç”± `seed` é©±åŠ¨
- å›ºå®š seed ä¸‹æ¸¸æˆç»“æœå®Œå…¨å¯å¤ç°
- Golden Tests è¦†ç›–æ ¸å¿ƒåŠŸèƒ½

### æ•°æ®é©±åŠ¨è®¾è®¡
- æ‰€æœ‰æ¸¸æˆå†…å®¹é€šè¿‡ YAML æ–‡ä»¶å®šä¹‰
- æ–°å¢å¡ç‰Œ/æ•Œäºº/é—ç‰©/äº‹ä»¶åªéœ€ä¿®æ”¹ YAML
- Content Loader è‡ªåŠ¨æ ¡éªŒå¼•ç”¨å®Œæ•´æ€§

### M2 äº‹ä»¶æ•ˆæœç³»ç»Ÿ

| Opcode | æ•ˆæœ | ç¤ºä¾‹ |
|--------|------|------|
| `gain_gold` | +é‡‘å¸ | +50 |
| `lose_gold` | -é‡‘å¸ | -30 |
| `heal` | æ²»ç–— | +30 HP |
| `take_damage` | å—ä¼¤ | -20 HP |
| `add_card` | æŠ½å¡ | +debug_strike |
| `remove_card` | åˆ å¡ | -strike |
| `upgrade_card` | å‡çº§ | â†‘strike |
| `add_relic` | é—ç‰© | +power_relic |
| `modify_bias` | æµæ´¾å€¾å‘ | debug +0.2 |
| `set_flag` | äº‹ä»¶æ ‡è®° | visited_shrine |
| `trigger_battle` | è§¦å‘æˆ˜æ–— | elite/normal |

### M2 å¥–åŠ±å€ç‡

| æ•Œäººç±»å‹ | é‡‘å¸å€ç‡ | ç»éªŒå€ç‡ | é—ç‰©æ¦‚ç‡ |
|---------|---------|---------|---------|
| Normal | 1x | 1x | 10% |
| Elite | 2x | 1.5x | 30% |
| BOSS | 3x | 2.0x | 100% |

### M3 Meta è¿›åº¦ç³»ç»Ÿ

| åŠŸèƒ½ | æè¿° |
|------|------|
| MetaProfile | ç©å®¶æ¡£æ¡ˆï¼Œå­˜å‚¨ç´¯è®¡ç‚¹æ•°ã€è§£é”ã€ç»Ÿè®¡ |
| RunSummary | å•å±€æ€»ç»“ï¼ŒåŒ…å«å‡»æ€ã€ç« èŠ‚ã€å¥–åŠ±ç­‰ |
| award_points | æ ¹æ®è¡¨ç°å¥–åŠ±ç‚¹æ•° (å‡»æ€+ç« èŠ‚+èƒœåˆ©) |
| è§£é”ç³»ç»Ÿ | è§’è‰²(100/150/200) / å†…å®¹åŒ…(150) / æˆå°± |
| å­˜æ¡£ | JSON æ ¼å¼ï¼Œé»˜è®¤ ~/.git-dungeon/profiles/ |

### M3 å†…å®¹åŒ…åˆå¹¶é€»è¾‘

```python
# åˆå¹¶åŸºç¡€å†…å®¹å’Œå·²è§£é”åŒ…
merged = merge_content_with_packs(
    base_registry,      # åŸºç¡€å†…å®¹
    "packs/",           # åŒ…ç›®å½•
    ["debug_pack", "test_pack"]  # å·²è§£é”åŒ…
)

# ID å†²çªæ£€æµ‹ (warn ä½†ç»§ç»­)
# æŒ‰ archetype ç­›é€‰: get_packs_by_archetype("debug_beatdown")
```

## è·¯çº¿å›¾

| ç‰ˆæœ¬ | é‡Œç¨‹ç¢‘ | ç›®æ ‡ | çŠ¶æ€ |
|------|--------|------|------|
| v0.5 | M2 | è·¯å¾„ç³»ç»Ÿ + äº‹ä»¶æ‰©å±• | âœ… |
| v0.6 | M3 | Meta è¿›åº¦ + è§’è‰²ç³»ç»Ÿ | âœ… |
| v0.7 | M4 | éš¾åº¦æ›²çº¿ + å¹³è¡¡å·¥å…· | â³ |
| v0.8 | M5 | æˆå°±æŒ‘æˆ˜ç³»ç»Ÿ | â³ |
| v0.9 | M6 | AI æ–‡æ¡ˆï¼ˆå¯é€‰ï¼‰ | â³ |

è¯¦è§ [docs/PLAN_M2-M6.md](docs/PLAN_M2-M6.md)

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License - see [LICENSE](LICENSE) for details.

## ä½œè€…

- GitHub: [@lingengyuan](https://github.com/lingengyuan)
- é¡¹ç›®: https://github.com/lingengyuan/git-dungeon
